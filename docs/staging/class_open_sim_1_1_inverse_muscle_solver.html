<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenSim Moco: OpenSim::InverseMuscleSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenSim Moco
   </div>
   <div id="projectbrief">Solve optimal control problems with OpenSim models</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_open_sim.html">OpenSim</a></li><li class="navelem"><a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html">InverseMuscleSolver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_open_sim_1_1_inverse_muscle_solver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenSim::InverseMuscleSolver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>This is a base class for methods that solve for muscle activity for a known motion (kinematics) using direct collocation. </p>
<p>Currently, the actuators that the inverse muscle solvers support are only Muscles and CoordinateActuators. To prevent certain Muscles or CoordinateActuators from being used in the solver, set the actuator's "appliesForce" property to false. To avoid tracking certain Coordinates, set the coordinates' "locked" property to true. TODO alternatively, use properties in this class.</p>
<h3>Input data</h3>
<p>The inverse muscle solvers require two sets of data as input:</p><ul>
<li>kinematics (that is, generalized coordinates, or joint angles),</li>
<li>net generalized forces (that is, "inverse dynamics" results, or net joint moments). You must provide kinematics, but providing net generalized forces is optional (the methods can compute the net generalized forces for you by running inverse dynamics internally). Direct collocation works best if these data are smooth. To help with this, you can request that these data are filtered (see the properties named <code>lowpass_cutoff_frequency_...</code>).</li>
</ul>
<p>TODO explain the benefit of using filtering on kinematics and joint moments: must be smooth, otherwise will get noisy muscle activations, etc.</p>
<h3>Mesh point frequency</h3>
<p>For gait, you should use between 100-300 mesh points per second. This setting has a greater effect for <a class="el" href="class_open_sim_1_1_i_n_d_y_g_o.html" title="TODO describe filtering. ">INDYGO</a> than for Global Static Optimization; see <a class="el" href="class_open_sim_1_1_i_n_d_y_g_o.html" title="TODO describe filtering. ">INDYGO</a>'s documentation for more information.</p>
<h3>Reserve actuators</h3>
<p>Sometimes it is not possible to achieve the desired net joint moments using muscles alone. There are multiple possible causes for this:</p><ul>
<li>the muscles are not strong enough to achieve the net joint moments,</li>
<li>the net joint moments change more rapidly than activation and deactivation time constants allow,</li>
<li>the filtering of the data causes unrealistic desired net joint moments. For this reason, you may want to add "reserve" actuators to your model. This can be done automatically for you if you set the property <code>create_reserve_actuators</code> appropriately ; this option will cause a CoordinateActuator to be added to the model for each unconstrained coordinate. The main knob on these actuators is their <code>optimal_force</code>. If the optimal force is $F$ and the actuator's control signal is $e$, then the cost of using the actuator is $e*e$, but the generalized force it applies is $F*e$. A smaller optimal force means a greater control value is required to generate a given force. The reserve actuators <em>can</em> generate (generalized) forces larger than their optimal force. The optimal force for reserve actuators should be set very low to discourage their use. TODO suggest an optimal force to use.</li>
</ul>
<p>After solving, the control signal $e$ for each reserve actuator is reported in the Solution's <code>other_controls</code> table.</p>
<p>If you need to customize the reserve actuators more than is possible via <code>create_reserve_actuators</code>, you can create your own and add them to your model. </p>
</div><div class="dynheader">
Inheritance diagram for OpenSim::InverseMuscleSolver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_open_sim_1_1_inverse_muscle_solver.png" usemap="#OpenSim::InverseMuscleSolver_map" alt=""/>
  <map id="OpenSim::InverseMuscleSolver_map" name="OpenSim::InverseMuscleSolver_map">
<area href="class_open_sim_1_1_global_static_optimization.html" alt="OpenSim::GlobalStaticOptimization" shape="rect" coords="0,112,204,136"/>
<area href="class_open_sim_1_1_i_n_d_y_g_o.html" title="TODO describe filtering. " alt="OpenSim::INDYGO" shape="rect" coords="214,112,418,136"/>
</map>
 </div></div>

<p><code>#include &lt;<a class="el" href="_inverse_muscle_solver_8h_source.html">Moco/Moco/InverseMuscleSolver/InverseMuscleSolver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a21c0d95cc0bd18c1dc554d694c0a77ad"><td class="memItemLeft" align="right" valign="top"><a id="a21c0d95cc0bd18c1dc554d694c0a77ad"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (write_solution, std::string, &quot;Provide the folder path (relative to working directory) to which the &quot; &quot;solution files should be written. Set to 'false' to not write the &quot; &quot;solution to disk.&quot;)</td></tr>
<tr class="separator:a21c0d95cc0bd18c1dc554d694c0a77ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f628a870657419aa57c498cc265b60d"><td class="memItemLeft" align="right" valign="top"><a id="a7f628a870657419aa57c498cc265b60d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (model_file, std::string, &quot;Path to the OSIM file containing the OpenSim model to use. The path can &quot; &quot;be absolute or relative to the setup file.&quot;)</td></tr>
<tr class="separator:a7f628a870657419aa57c498cc265b60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c1a6aec9b715fe652f25fc79502839"><td class="memItemLeft" align="right" valign="top"><a id="a96c1a6aec9b715fe652f25fc79502839"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (kinematics_file, std::string, &quot;Path to a data file (CSV, STO) containing generalized coordinates &quot; &quot;to track. The path can be absolute or relative to the setup file.&quot;)</td></tr>
<tr class="separator:a96c1a6aec9b715fe652f25fc79502839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048de5836abb48fd61d76866400bf1ef"><td class="memItemLeft" align="right" valign="top"><a id="a048de5836abb48fd61d76866400bf1ef"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (lowpass_cutoff_frequency_for_kinematics, double, &quot;The frequency (Hz) at which to filter the kinematics. &quot; &quot;(default is -1, which means no filtering; for walking, consider 6 Hz).&quot;)</td></tr>
<tr class="separator:a048de5836abb48fd61d76866400bf1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957cb29175e4ce3fdc9d6cd49c853200"><td class="memItemLeft" align="right" valign="top"><a id="a957cb29175e4ce3fdc9d6cd49c853200"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_OPTIONAL_PROPERTY</b> (net_generalized_forces_file, std::string, &quot;(Optional) Path to a data file (CSV, STO) containing net generalized &quot; &quot;forces (joint moments) to achieve. Column labels should be coordinate &quot; &quot;paths (e.g., 'knee/knee_angle_r') or use the Inverse Dynamics Tool &quot; &quot;<a class="el" href="namespace_open_sim.html#a8ff3b037274379f4f31742a6db884400">format</a> (e.g., 'knee_angle_r_moment'). &quot; &quot;If not provided, inverse dynamics will be performed internally.&quot;)</td></tr>
<tr class="separator:a957cb29175e4ce3fdc9d6cd49c853200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334b2482949294c056cf18c23dbeca53"><td class="memItemLeft" align="right" valign="top"><a id="a334b2482949294c056cf18c23dbeca53"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (lowpass_cutoff_frequency_for_joint_moments, double, &quot;The frequency (Hz) at which to filter inverse dynamics joint moments, &quot; &quot;which are computed internally from the kinematics if &quot; &quot;net generalized forces are not provided. &quot; &quot;This is applied whether or not inverse dynamics is performed internally. &quot; &quot;(default is -1, which means no filtering; for walking, consider 6 Hz).&quot;)</td></tr>
<tr class="separator:a334b2482949294c056cf18c23dbeca53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d78b76b3ee8f1360da665af74049f6"><td class="memItemLeft" align="right" valign="top"><a id="ab2d78b76b3ee8f1360da665af74049f6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_OPTIONAL_PROPERTY</b> (initial_time, double, &quot;The start of the time interval in which to solve for muscle activity. &quot; &quot;All data must start at or before this time. &quot; &quot;(default: earliest time available in all provided data)&quot;)</td></tr>
<tr class="separator:ab2d78b76b3ee8f1360da665af74049f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574f8e15041db587a75734768300d253"><td class="memItemLeft" align="right" valign="top"><a id="a574f8e15041db587a75734768300d253"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_OPTIONAL_PROPERTY</b> (final_time, double, &quot;The end of the time interval in which to solve for muscle activity. &quot; &quot;All data must end at or after this time. &quot; &quot;(default: latest time available in all provided data)&quot;)</td></tr>
<tr class="separator:a574f8e15041db587a75734768300d253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d3dd5f803edf88bf1ba1be4dc200bb"><td class="memItemLeft" align="right" valign="top"><a id="a53d3dd5f803edf88bf1ba1be4dc200bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (mesh_point_frequency, int, &quot;The number of mesh points per second of motion &quot; &quot;(default: 200 mesh points / second).&quot;)</td></tr>
<tr class="separator:a53d3dd5f803edf88bf1ba1be4dc200bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ef486284e8a4613f18c56c8729207c"><td class="memItemLeft" align="right" valign="top"><a id="a00ef486284e8a4613f18c56c8729207c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (create_reserve_actuators, double, &quot;Create a reserve actuator (CoordinateActuator) for each unconstrained &quot; &quot;coordinate in the model, and add each to the model. Each actuator &quot; &quot;will have the specified `optimal_force`, which should be set low to &quot; &quot;discourage the use of the reserve actuators. (default is -1, which &quot; &quot;means no reserves are created)&quot;)</td></tr>
<tr class="separator:a00ef486284e8a4613f18c56c8729207c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df6f16a952f46c2a2c28fb38bc5eb6d"><td class="memItemLeft" align="right" valign="top"><a id="a4df6f16a952f46c2a2c28fb38bc5eb6d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_LIST_PROPERTY</b> (coordinates_to_include, std::string, &quot;A list of coordinates (absolute paths) whose net generalized force should &quot; &quot;be achieved. Other coordinates still affect muscle-tendon length, but &quot; &quot;there is no attempt to achieve their net generalized force. (default: &quot; &quot;emtpy, which means all non-constrained coordinates are included.)&quot;)</td></tr>
<tr class="separator:a4df6f16a952f46c2a2c28fb38bc5eb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2de4b1b1508ce826dcd32c8f4757da"><td class="memItemLeft" align="right" valign="top"><a id="a5b2de4b1b1508ce826dcd32c8f4757da"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_LIST_PROPERTY</b> (actuators_to_include, std::string, &quot;A list of actuators (absolute paths) that should apply force. This &quot; &quot;setting overrides the appliesForce property of the actuator. &quot; &quot;(default: empty, which means all actuators' appliesForce property are &quot; &quot;obeyed.)&quot;)</td></tr>
<tr class="separator:a5b2de4b1b1508ce826dcd32c8f4757da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82d37612cd6f6f25259694476ba65a7"><td class="memItemLeft" align="right" valign="top"><a id="ab82d37612cd6f6f25259694476ba65a7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>InverseMuscleSolver</b> (const std::string &amp;setupFilePath)</td></tr>
<tr class="separator:ab82d37612cd6f6f25259694476ba65a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063ae547f2288d79bf4ecee460cbcbba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#a063ae547f2288d79bf4ecee460cbcbba">setModel</a> (const Model &amp;model)</td></tr>
<tr class="memdesc:a063ae547f2288d79bf4ecee460cbcbba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the model to use.  <a href="#a063ae547f2288d79bf4ecee460cbcbba">More...</a><br /></td></tr>
<tr class="separator:a063ae547f2288d79bf4ecee460cbcbba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08b7a7f149e6712d5fcd667d0f50119"><td class="memItemLeft" align="right" valign="top">const Model &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#ab08b7a7f149e6712d5fcd667d0f50119">getModel</a> () const</td></tr>
<tr class="memdesc:ab08b7a7f149e6712d5fcd667d0f50119"><td class="mdescLeft">&#160;</td><td class="mdescRight">This throws an exception if <a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#a063ae547f2288d79bf4ecee460cbcbba" title="Set the model to use. ">setModel()</a> has not been called.  <a href="#ab08b7a7f149e6712d5fcd667d0f50119">More...</a><br /></td></tr>
<tr class="separator:ab08b7a7f149e6712d5fcd667d0f50119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b979706dadbf53a075fc7c187b087f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#ae7b979706dadbf53a075fc7c187b087f">setKinematicsData</a> (const TimeSeriesTable &amp;kinematics)</td></tr>
<tr class="memdesc:ae7b979706dadbf53a075fc7c187b087f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the generalized coordinate values and speeds to track.  <a href="#ae7b979706dadbf53a075fc7c187b087f">More...</a><br /></td></tr>
<tr class="separator:ae7b979706dadbf53a075fc7c187b087f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b64cca3c5487a94ff16bcc0a2959a0"><td class="memItemLeft" align="right" valign="top">const TimeSeriesTable &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#ab4b64cca3c5487a94ff16bcc0a2959a0">getKinematicsData</a> () const</td></tr>
<tr class="memdesc:ab4b64cca3c5487a94ff16bcc0a2959a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This throws an exception if <a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#ae7b979706dadbf53a075fc7c187b087f" title="Set the generalized coordinate values and speeds to track. ">setKinematicsData()</a> has not been called.  <a href="#ab4b64cca3c5487a94ff16bcc0a2959a0">More...</a><br /></td></tr>
<tr class="separator:ab4b64cca3c5487a94ff16bcc0a2959a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e8561cdae61e6431a6b96b4bb89879"><td class="memItemLeft" align="right" valign="top"><a id="a93e8561cdae61e6431a6b96b4bb89879"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setNetGeneralizedForcesData</b> (const TimeSeriesTable &amp;netGenForces)</td></tr>
<tr class="separator:a93e8561cdae61e6431a6b96b4bb89879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7dc2b63622d5254257caeb36d505b9"><td class="memItemLeft" align="right" valign="top"><a id="ace7dc2b63622d5254257caeb36d505b9"></a>
const TimeSeriesTable &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getNetGeneralizedForcesData</b> () const</td></tr>
<tr class="separator:ace7dc2b63622d5254257caeb36d505b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:acfc3a24bb566ef9b7069c9bed3f5ade7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#acfc3a24bb566ef9b7069c9bed3f5ade7">loadModelAndData</a> (Model &amp;model, TimeSeriesTable &amp;kinematics, TimeSeriesTable &amp;netGeneralizedForces) const</td></tr>
<tr class="memdesc:acfc3a24bb566ef9b7069c9bed3f5ade7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function provides the model and data to be used in solving for actuator controls.  <a href="#acfc3a24bb566ef9b7069c9bed3f5ade7">More...</a><br /></td></tr>
<tr class="separator:acfc3a24bb566ef9b7069c9bed3f5ade7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd92f35cbefdf1a22a437f608d114ab8"><td class="memItemLeft" align="right" valign="top"><a id="abd92f35cbefdf1a22a437f608d114ab8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>processActuatorsToInclude</b> (Model &amp;model) const</td></tr>
<tr class="separator:abd92f35cbefdf1a22a437f608d114ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f4b2f8cf3ee9bd8d3de5af118dccca7"><td class="memItemLeft" align="right" valign="top"><a id="a7f4b2f8cf3ee9bd8d3de5af118dccca7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>determineInitialAndFinalTimes</b> (TimeSeriesTable &amp;kinematics, TimeSeriesTable &amp;netGeneralizedForces, const int &amp;meshPointFrequency, double &amp;initialTime, double &amp;finalTime, int &amp;numMeshPoints) const</td></tr>
<tr class="separator:a7f4b2f8cf3ee9bd8d3de5af118dccca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad4f2f1f18c6d45490d2e773ae007ed7f"><td class="memItemLeft" align="right" valign="top"><a id="ad4f2f1f18c6d45490d2e773ae007ed7f"></a>
SimTK::ResetOnCopy&lt; std::unique_ptr&lt; Model &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_model</b></td></tr>
<tr class="separator:ad4f2f1f18c6d45490d2e773ae007ed7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8a7da7467486c44c5997e8b758007e"><td class="memItemLeft" align="right" valign="top"><a id="a7a8a7da7467486c44c5997e8b758007e"></a>
SimTK::ResetOnCopy&lt; std::unique_ptr&lt; TimeSeriesTable &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_kinematics</b></td></tr>
<tr class="separator:a7a8a7da7467486c44c5997e8b758007e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae202eb26eb59ac7a37822e0ae4ac7d13"><td class="memItemLeft" align="right" valign="top"><a id="ae202eb26eb59ac7a37822e0ae4ac7d13"></a>
SimTK::ResetOnCopy&lt; std::unique_ptr&lt; TimeSeriesTable &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_netGeneralizedForces</b></td></tr>
<tr class="separator:ae202eb26eb59ac7a37822e0ae4ac7d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab4b64cca3c5487a94ff16bcc0a2959a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b64cca3c5487a94ff16bcc0a2959a0">&#9670;&nbsp;</a></span>getKinematicsData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const TimeSeriesTable&amp; OpenSim::InverseMuscleSolver::getKinematicsData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This throws an exception if <a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#ae7b979706dadbf53a075fc7c187b087f" title="Set the generalized coordinate values and speeds to track. ">setKinematicsData()</a> has not been called. </p>
<p>Kinematic specified via kinematics_file cannot be accessed via this method. </p>

</div>
</div>
<a id="ab08b7a7f149e6712d5fcd667d0f50119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab08b7a7f149e6712d5fcd667d0f50119">&#9670;&nbsp;</a></span>getModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Model&amp; OpenSim::InverseMuscleSolver::getModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This throws an exception if <a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#a063ae547f2288d79bf4ecee460cbcbba" title="Set the model to use. ">setModel()</a> has not been called. </p>
<p>A model specified via model_file cannot be accessed via this method. </p>

</div>
</div>
<a id="acfc3a24bb566ef9b7069c9bed3f5ade7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc3a24bb566ef9b7069c9bed3f5ade7">&#9670;&nbsp;</a></span>loadModelAndData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::InverseMuscleSolver::loadModelAndData </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeSeriesTable &amp;&#160;</td>
          <td class="paramname"><em>kinematics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeSeriesTable &amp;&#160;</td>
          <td class="paramname"><em>netGeneralizedForces</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function provides the model and data to be used in solving for actuator controls. </p>
<p>This function decides whether to use programmatically-set quantities (e.g., via <a class="el" href="class_open_sim_1_1_inverse_muscle_solver.html#a063ae547f2288d79bf4ecee460cbcbba" title="Set the model to use. ">setModel()</a>) or load objects from files. This function also checks for some errors. The netGeneralizedForces table is set to an empty table if this data table was not provided. </p>

</div>
</div>
<a id="ae7b979706dadbf53a075fc7c187b087f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7b979706dadbf53a075fc7c187b087f">&#9670;&nbsp;</a></span>setKinematicsData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::InverseMuscleSolver::setKinematicsData </td>
          <td>(</td>
          <td class="paramtype">const TimeSeriesTable &amp;&#160;</td>
          <td class="paramname"><em>kinematics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the generalized coordinate values and speeds to track. </p>
<p>There should be a column in the table for each generalized coordinate, and the labels for the columns should be the absolute path names for the generalized coordinate state variables (e.g., <code>hip/flexion/value</code>). If you set kinematics this way, make sure to set the kinematics_file property to an empty string (<code>solver.set_kinematics_file ("")</code>). The function StatesTrajectory::exportToTable() may be helpful in creating this table. </p>

</div>
</div>
<a id="a063ae547f2288d79bf4ecee460cbcbba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063ae547f2288d79bf4ecee460cbcbba">&#9670;&nbsp;</a></span>setModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::InverseMuscleSolver::setModel </td>
          <td>(</td>
          <td class="paramtype">const Model &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the model to use. </p>
<p>If you set a model this way, make sure to set the model_file property to an empty string (<code>solver.set_model_file ("")</code>). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_inverse_muscle_solver_8h_source.html">InverseMuscleSolver.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 13 2019 16:21:48 for OpenSim Moco by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
